ykl@ykl-work:~/go/src/k8s-offline-tool$ go run main.go -dry-run true
开始预检查 3 个节点...

----------------------------------------------------------------------------------------
[192.168.1.8] 检测到 Fedora Linux 41 | KernelVersion: 6.11.4-301.fc41.x86_64 | Arch: amd64 | GPU: false
[192.168.1.8] ▶ [STEP] 分发离线资源 … ...
[192.168.1.8]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.8]   └─ ⏭ 预检查跳过 (37ms)
[192.168.1.8] ▶ [STEP] 禁用 SELinux … ...
[192.168.1.8]   └─ 🔍 检查中... ⏭ 可跳过
[192.168.1.8] ▶ [STEP] 禁用 Firewall … ...
[192.168.1.8]   └─ 🔍 检查中... ⏭ 可跳过
[192.168.1.8] ▶ [STEP] 禁用 Swap分区 … ...
[192.168.1.8]   └─ 🔍 检查中... ⏭ 可跳过
[192.168.1.8] ▶ [STEP] 加载内核模块 … ...
[192.168.1.8]   └─ 🔍 检查中... ⏭ 可跳过
[192.168.1.8] ▶ [STEP] 配置 Sysctl 内核参数 … ...
[192.168.1.8]   └─ 🔍 检查中... ⏭ 可跳过
[192.168.1.8] ▶ [STEP] 安装常用工具 … ...
[192.168.1.8]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.8]   └─ ⏭ 预检查跳过 (0s)
[192.168.1.8] ▶ [STEP] 安装 Containerd 二进制文件 … ...
[192.168.1.8]   └─ 🔍 检查中... ⏭ 可跳过
[192.168.1.8] ▶ [STEP] 安装 Runc … ...
[192.168.1.8]   └─ 🔍 检查中... ⏭ 可跳过
[192.168.1.8] ▶ [STEP] 配置 Containerd 服务 … ...
[192.168.1.8]   └─ 🔍 检查中... ⏭ 可跳过
[192.168.1.8] ▶ [STEP] 配置cgroup、私有镜像仓库并启动 Containerd … ...
[192.168.1.8]   └─ 🔍 检查中... ⏭ 可跳过
[192.168.1.8] ▶ [STEP] 配置 Crictl 默认endpoint … ...
[192.168.1.8]   └─ 🔍 检查中... ⏭ 可跳过
[192.168.1.8] ▶ [STEP] 安装 Nerdctl … ...
[192.168.1.8]   └─ 🔍 检查中... ⏭ 可跳过
[192.168.1.8] ▶ [STEP] 配置 GPU 运行时 … ...
[192.168.1.8]   └─ 🔍 检查中... ⏭ 可跳过
[192.168.1.8] ▶ [STEP] 安装 Kubernetes 组件 … ...
[192.168.1.8]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.8]   └─ ⏭ 预检查跳过 (0s)
[192.168.1.8] ▶ [STEP] 加载镜像 … ...
[192.168.1.8]   └─ 🔍 检查中... ⏭ 可跳过
[192.168.1.8] ▶ [STEP] 初始化或加入集群 … ...
[192.168.1.8]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.8]   └─ ⏭ 预检查跳过 (15ms)
----------------------------------------------------------------------------------------
[192.168.1.10] 检测到 Fedora Linux 41 | KernelVersion: 6.11.4-301.fc41.x86_64 | Arch: amd64 | GPU: false
[192.168.1.10] ▶ [STEP] 分发离线资源 … ...
[192.168.1.10]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.10]   └─ ⏭ 预检查跳过 (13ms)
[192.168.1.10] ▶ [STEP] 禁用 SELinux … ...
[192.168.1.10]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.10]   └─ ⏭ 预检查跳过 (12ms)
[192.168.1.10] ▶ [STEP] 禁用 Firewall … ...
[192.168.1.10]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.10]   └─ ⏭ 预检查跳过 (15ms)
[192.168.1.10] ▶ [STEP] 禁用 Swap分区 … ...
[192.168.1.10]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.10]   └─ ⏭ 预检查跳过 (16ms)
[192.168.1.10] ▶ [STEP] 加载内核模块 … ...
[192.168.1.10]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.10]   └─ ⏭ 预检查跳过 (12ms)
[192.168.1.10] ▶ [STEP] 配置 Sysctl 内核参数 … ...
[192.168.1.10]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.10]   └─ ⏭ 预检查跳过 (14ms)
[192.168.1.10] ▶ [STEP] 安装常用工具 … ...
[192.168.1.10]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.10]   └─ ⏭ 预检查跳过 (0s)
[192.168.1.10] ▶ [STEP] 安装 Containerd 二进制文件 … ...
[192.168.1.10]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.10]   └─ ⏭ 预检查跳过 (12ms)
[192.168.1.10] ▶ [STEP] 安装 Runc … ...
[192.168.1.10]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.10]   └─ ⏭ 预检查跳过 (12ms)
[192.168.1.10] ▶ [STEP] 配置 Containerd 服务 … ...
[192.168.1.10]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.10]   └─ ⏭ 预检查跳过 (12ms)
[192.168.1.10] ▶ [STEP] 配置cgroup、私有镜像仓库并启动 Containerd … ...
[192.168.1.10]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.10]   └─ ⏭ 预检查跳过 (14ms)
[192.168.1.10] ▶ [STEP] 配置 Crictl 默认endpoint … ...
[192.168.1.10]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.10]   └─ ⏭ 预检查跳过 (14ms)
[192.168.1.10] ▶ [STEP] 安装 Nerdctl … ...
[192.168.1.10]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.10]   └─ ⏭ 预检查跳过 (11ms)
[192.168.1.10] ▶ [STEP] 配置 GPU 运行时 … ...
[192.168.1.10]   └─ 🔍 检查中... ⏭ 可跳过
[192.168.1.10] ▶ [STEP] 安装 Kubernetes 组件 … ...
[192.168.1.10]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.10]   └─ ⏭ 预检查跳过 (0s)
[192.168.1.10] ▶ [STEP] 加载镜像 … ...
[192.168.1.10]   └─ 🔍 检查中... ⏭ 可跳过
[192.168.1.10] ▶ [STEP] 初始化或加入集群 … ...
[192.168.1.10]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.10]   └─ ⏭ 预检查跳过 (29ms)
----------------------------------------------------------------------------------------
[192.168.1.11] 检测到 Ubuntu 24.04 | KernelVersion: 6.8.0-90-generic | Arch: amd64 | GPU: false
[192.168.1.11] ▶ [STEP] 分发离线资源 … ...
[192.168.1.11]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.11]   └─ ⏭ 预检查跳过 (8ms)
[192.168.1.11] ▶ [STEP] 禁用 SELinux … ...
[192.168.1.11]   └─ 🔍 检查中... ⏭ 可跳过
[192.168.1.11] ▶ [STEP] 禁用 Firewall … ...
[192.168.1.11]   └─ 🔍 检查中... ⏭ 可跳过
[192.168.1.11] ▶ [STEP] 禁用 Swap分区 … ...
[192.168.1.11]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.11]   └─ ⏭ 预检查跳过 (7ms)
[192.168.1.11] ▶ [STEP] 加载内核模块 … ...
[192.168.1.11]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.11]   └─ ⏭ 预检查跳过 (5ms)
[192.168.1.11] ▶ [STEP] 配置 Sysctl 内核参数 … ...
[192.168.1.11]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.11]   └─ ⏭ 预检查跳过 (5ms)
[192.168.1.11] ▶ [STEP] 安装常用工具 … ...
[192.168.1.11]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.11]   └─ ⏭ 预检查跳过 (0s)
[192.168.1.11] ▶ [STEP] 安装 Containerd 二进制文件 … ...
[192.168.1.11]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.11]   └─ ⏭ 预检查跳过 (5ms)
[192.168.1.11] ▶ [STEP] 安装 Runc … ...
[192.168.1.11]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.11]   └─ ⏭ 预检查跳过 (4ms)
[192.168.1.11] ▶ [STEP] 配置 Containerd 服务 … ...
[192.168.1.11]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.11]   └─ ⏭ 预检查跳过 (4ms)
[192.168.1.11] ▶ [STEP] 配置cgroup、私有镜像仓库并启动 Containerd … ...
[192.168.1.11]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.11]   └─ ⏭ 预检查跳过 (6ms)
[192.168.1.11] ▶ [STEP] 配置 Crictl 默认endpoint … ...
[192.168.1.11]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.11]   └─ ⏭ 预检查跳过 (5ms)
[192.168.1.11] ▶ [STEP] 安装 Nerdctl … ...
[192.168.1.11]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.11]   └─ ⏭ 预检查跳过 (4ms)
[192.168.1.11] ▶ [STEP] 配置 GPU 运行时 … ...
[192.168.1.11]   └─ 🔍 检查中... ⏭ 可跳过
[192.168.1.11] ▶ [STEP] 安装 Kubernetes 组件 … ...
[192.168.1.11]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.11]   └─ ⏭ 预检查跳过 (0s)
[192.168.1.11] ▶ [STEP] 加载镜像 … ...
[192.168.1.11]   └─ 🔍 检查中... ⏭ 可跳过
[192.168.1.11] ▶ [STEP] 初始化或加入集群 … ...
[192.168.1.11]   └─ 🔍 检查中... ⏳ 待执行
[192.168.1.11]   └─ ⏭ 预检查跳过 (8ms)

预检查结果汇总:
 - 192.168.1.8 (Master): 成功
 - 192.168.1.10 (Worker): 成功
 - 192.168.1.11 (Worker): 成功